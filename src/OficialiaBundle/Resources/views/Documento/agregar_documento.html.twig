{% extends '::base.html.twig' %}
{% block body %}
<div id="mensaje"></div>
<div class="row">
    <div class="col s6 offset-s3 card-panel white">
        <div id="contenedor">
            <div class="row">
            <h5>Datos del documento</h5>
                <div class="input-field">
                    <input type="text" id="folio">
                    <label for="folio">Folio</label>
                </div>
            </div>
            <div class="row">
                <div class="col s6">
                    <label for="fecha_documento">Fecha del documento</label>
                    <input type="date" class="datepicker" id="fecha_documento">
                </div>
                <div class="col s6">
                    <label for="fecha_recepcion">Fecha de recepcion</label>
                    <input type="date"  class="datepicker" id="fecha_recepcion">
                </div>
            </div>
            <h5>Destino</h5>
            <div class="row">
                <div class="col s6">
                    <label for="fecha_limite">Fecha limite</label>
                    <input type="date" class="datepicker" id="fecha_limite">
                </div>
                <div class="col s6">
                <br>
                    <input type="checkbox" id="entregado" />
                    <label for="entregado">Entregado</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field">
                    <input type="text" id="recibe">
                    <label for="recibe">Recibe</label>
                </div>
            </div>
            <div class="row">
                <div class="col s6 input-field">
                    <label for="departamento">Departamento</label><br>
                    <select id="departamento" class="browser-default"></select>
                </div>
                <div class="col s6 input-field">
                    <label for="instruccion">Instruccion</label><br>
                    <select id="instruccion" class="browser-default"></select>
                </div>
            </div>
            <h5>Procedencia</h5>
            <div class="row">
                <div class="col s6 input-field">
                    <input type="text" id="firma">
                    <label for="firma">firma</label>
                </div>
                <div class="col s6 input-field">
                    <input type="text" id="puesto">
                    <label for="puesto">Puesto</label>
                </div>
            </div>
            <div class="row">
                <div class="col s6 input-field">
                    <input type="text" id="dirigida">
                    <label for="dirigida">Dirigida a</label>
                </div>
                <div class="col s6 input-field">
                    <input type="text" id="asunto">
                    <label for="asunto">Asunto</label>
                </div>
            </div>
            <div class="row">
                <div class="col s12 input-field">
                    <label for="institucion">Institucion de procedencia</label><br>
                    <select id="institucion" class="browser-default"></select>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <textarea id="observaciones" class="materialize-textarea"></textarea>
                    <label for="observaciones">Observaciones</label>
                </div>
            </div>
            <div class="row">
                <button class="btn waves-effect col s12" id="guardar">Guardar</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block javascripts %}
<script type="text/javascript">
$(document).ready(function(){
    destinoCombo();
    procedenciaCombo();
    $('#guardar').click(function(){
        guardar();
    });
});
function guardar()
{   
    var paramentros = {

    }
    $.ajax({
        url:"{{ path('guardar_documento') }}",
        type:"post",
        data: paramentros,
        beforeSend: function(){
            $('#contenedor').html("Cargando");
        }
    }).done(function(data){
        $('#contenedor').html("Se envio");
    });
}
function destinoCombo(){
         $.ajax({
            url:"{{ path('documento_departamento') }}",
            type:"post",

        }).done(function(data){
            $.each(data,function(key,value){
                $.each(value,function(key2,value2){
                    $('#departamento').append(
                            $('<option>',{value:value2['key'], text:value2['value'] })
                        );
                });
            });
        });
        $.ajax({
            url:"{{ path('documento_instruccion') }}",
            type:"post",

        }).done(function(data){
            $.each(data,function(key,value){
                $.each(value,function(key2,value2){
                    $('#instruccion').append(
                            $('<option>',{value:value2['key'], text:value2['value'] })
                        );
                });
            });
        });
    }
function procedenciaCombo()
    {
        $.ajax({
            url:"{{ path('documento_institucion') }}",
            type:"post"

        }).done(function(data){
            $.each(data,function(key,value){
                $.each(value,function(key2,value2){
                    $('#institucion').append(
                            $('<option>',{value:value2['key'], text:value2['value'] })
                        );
                });
            });
        });
    }
</script>
{% endblock%}